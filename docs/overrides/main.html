{% extends "base.html" %}

{% block libs %}
  {{ super() }}
  <script src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js"></script>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    document$.subscribe(function() {
      mermaid.initialize({
        startOnLoad: false,
        theme: document.body.getAttribute("data-md-color-scheme") === "slate" ? "dark" : "default"
      });
      mermaid.run({
        querySelector: ".mermaid"
      });
    })
  </script>
{% endblock %}